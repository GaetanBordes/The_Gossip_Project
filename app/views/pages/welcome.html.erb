<div class="container">
  <!-- Formulaire pour ajouter un potin -->
  <h1>Bienvenue sur notre super site de potins !</h1>

  <%= form_with(url: publish_path, method: :post) do |form| %>
    <div class="form-group">
      <%= form.label :first_name, "Ton prénom" %>
      <%= form.text_field :first_name, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :last_name, "Ton nom" %>
      <%= form.text_field :last_name, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :title, "Titre du potin" %>
      <%= form.text_field :title, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :content, "Contenu du potin" %>
      <%= form.text_area :content, class: "form-control" %>
    </div>

    <%= form.submit "Publier ton potin", class: "btn btn-primary" %>
  <% end %>

  <!-- Bienvenue et affichage des derniers potins -->
  <h1>Bienvenue <%= @first_name.nil? ? "Invité" : @first_name.capitalize %> !</h1>
  <p>Voici notre super site de potins !</p>

  <h2>Derniers potins</h2>

  <% @gossips.each do |gossip| %>
    <div class="card">
      <h3 class="card-title"><%= gossip.title %></h3>
      <p class="card-author">
        Par : <%= gossip.author ? gossip.author.first_name : "Auteur inconnu" %>
      </p>

      <%= link_to "Voir plus", gossip_path(gossip, first_name: @first_name), class: "button" %>

    </div>
  <% end %>
</div>
